import"./base-bflHmD82.js";import{E as x}from"./el-button-4r8E0DMI.js";import{E as k}from"./el-input-0vVVtHA2.js";import{W as y}from"./consumable-Dnn1CoAQ.js";import{D as V}from"./decode-utf8-po1gdrZ2.js";import{d as b,q as B,m as r,a as C,b as p,e as f,w as u,g as a,Q as E,h as N,j as D,t as S,o as _,f as m}from"./index-DpTwNufQ.js";import"./index-Xv_KeUan.js";import"./typescript-DvA-nEXU.js";import"./index-DooEso7-.js";const T={class:"flex flex-col w-full pl-2 overflow-hidden"},j={class:"flex items-center"},A={class:"whitespace-pre overflow-auto"},H=b({__name:"index",setup(U){const g=B("getAdb",()=>null);let e;const i=r(""),l=r("ls -l"),n=r(!1),v=async()=>{const t=g();e=await(t==null?void 0:t.subprocess.shell(l.value)),i.value="",n.value=!0;const s=new y({write:o=>{i.value+=o},close:()=>{n.value=!1}});return e==null||e.stdout.pipeThrough(new V).pipeTo(s),e==null||e.exit.then(o=>{console.log("退出了",o)}),e},c=r(!1),h=async()=>{c.value=!0;const t=e==null?void 0:e.kill();t instanceof Promise&&await t,c.value=!1};return(t,s)=>{const o=k,d=x;return _(),C("div",T,[p("div",j,[f(o,{modelValue:a(l),"onUpdate:modelValue":s[0]||(s[0]=w=>E(l)?l.value=w:null),class:"mr-2"},{prepend:u(()=>[m(" adb shell ")]),_:1},8,["modelValue"]),f(d,{type:"primary",loading:a(n),onClick:v},{default:u(()=>[m("run")]),_:1},8,["loading"]),a(n)?(_(),N(d,{key:0,type:"danger",loading:a(c),onClick:h},{default:u(()=>[m("stop")]),_:1},8,["loading"])):D("",!0)]),p("code",A,S(a(i)),1)])}}});export{H as default};
