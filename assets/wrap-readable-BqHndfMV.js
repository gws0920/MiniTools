var m=Object.defineProperty;var h=(e,a,t)=>a in e?m(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var o=(e,a,t)=>(h(e,typeof a!="symbol"?a+"":a,t),t),u=(e,a,t)=>{if(!a.has(e))throw TypeError("Cannot "+t)};var l=(e,a,t)=>(u(e,a,"read from private field"),t?t.call(e):a.get(e)),f=(e,a,t)=>{if(a.has(e))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(e):a.set(e,t)},b=(e,a,t,n)=>(u(e,a,"write to private field"),n?n.call(e,t):a.set(e,t),t);import{R as y}from"./consumable-Dnn1CoAQ.js";const g=Symbol("adb_device_change");function R(e,a){return"start"in e?e.start(a):typeof e=="function"?e(a):e}var i;class v extends y{constructor(t,n){super({start:async s=>{await Promise.resolve(),this.readable=await R(t,s),b(this,i,this.readable.getReader())},pull:async s=>{var d;const c=await l(this,i).read();c.done?(s.close(),"close"in t&&await((d=t.close)==null?void 0:d.call(t))):s.enqueue(c.value)},cancel:async s=>{var c;await l(this,i).cancel(s),"cancel"in t&&await((c=t.cancel)==null?void 0:c.call(t,s))}},n);o(this,"readable");f(this,i,void 0)}}i=new WeakMap;export{g as A,v as W};
